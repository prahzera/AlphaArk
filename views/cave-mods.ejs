
<div class="cave-guides-container">
  <div class="page-header">
    <h1 class="page-title">Cave Guides</h1>
    <p class="page-subtitle">Complete guides for all enhanced caves across our ARK maps</p>
  </div>

  <% if (caves) { %>
    <% Object.keys(caves).forEach(function(mapName) { %>
      <% if (caves[mapName] && caves[mapName].length > 0) { %>
        <div class="map-section">
          <div class="map-banner">
            <img src="/assets/img/servers/<%= mapName %>.webp" alt="<%= mapName.replace(/([A-Z])/g, ' $1').replace(/^./, function(str){ return str.toUpperCase(); }) %>" 
                 onerror="this.src='/assets/img/servers/default.webp'">
            <div class="map-banner-content">
              <h2 class="map-title"><%= mapName.replace(/([A-Z])/g, ' $1').replace(/^./, function(str){ return str.toUpperCase(); }) %></h2>
              <span class="cave-count"><%= caves[mapName].length %> caves</span>
            </div>
          </div>
          
          <div class="caves-grid">
            <% caves[mapName].forEach(function(cave) { %>
              <div class="cave-card">
                <div class="cave-header">
                  <h3 class="cave-name"><%= cave.name %></h3>
                  <span class="cave-spot"><%= cave.spot %></span>
                </div>
                
                <div class="cave-details">
                  <div class="detail-item">
                    <span class="detail-label">Coordinates</span>
                    <span class="detail-value"><%= cave.coordinates %></span>
                  </div>
                  
                  <% if (cave.notes) { %>
                    <div class="detail-item">
                      <span class="detail-label">Notes</span>
                      <span class="detail-value"><%= cave.notes %></span>
                    </div>
                  <% } %>
                  
                  <div class="detail-item">
                    <span class="detail-label">Teleport</span>
                    <code class="teleport-code"><%= cave.teleport %></code>
                  </div>
                </div>
                
                <% if (cave.video) { %>
                  <div class="cave-video">
                    <video controls preload="metadata">
                      <source src="<%= cave.video %>" type="video/mp4">
                      <p>Your browser doesn't support HTML5 video. <a href="<%= cave.video %>" target="_blank">Watch video</a></p>
                    </video>
                  </div>
                <% } %>
              </div>
            <% }); %>
          </div>
        </div>
      <% } %>
    <% }); %>
  <% } %>
</div>

<!-- <div class="card animate-fade-in">
  <div class="card-header">
    Cave Events
  </div>
  <div class="card-body">
    <div class="settings-section">
      <h3 class="settings-title">Weekly Events</h3>
      <ul>
        <li><strong>Monday - Treasure Day:</strong> Increased loot in all caves.</li>
        <li><strong>Wednesday - Creature Invasion:</strong> Special creatures appear in random caves.</li>
        <li><strong>Friday - Explorer Challenge:</strong> Complete specific caves to win exclusive rewards.</li>
        <li><strong>Sunday - Powered Bosses:</strong> Cave bosses have enhanced stats and better rewards.</li>
      </ul>
    </div>
    
    <div class="settings-section">
      <h3 class="settings-title">Monthly Event: The Great Expedition</h3>
      <p>Once a month, we organize "The Great Expedition", an event where all tribes compete to complete all caves in the shortest time possible. Rewards include:</p>
      <ul>
        <li>Exclusive creatures</li>
        <li>Legendary weapons and armor</li>
        <li>Rare resources</li>
        <li>Additional ranking points</li>
      </ul>
      <p><strong>Next Great Expedition:</strong> Last weekend of the month</p>
    </div>
  </div>
</div> -->